{"ast":null,"code":"var _jsxFileName = \"/Users/josephkoon/Desktop/turing/src/components/Product.js\";\nimport React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Header from './Header';\nimport HeaderNavigation from './HeaderNavigation';\nimport Footer from './Footer';\nimport { getProduct, getProductReviews, getProductAttributes, addToCart } from '../actions/index';\nimport starGold from '../icon/icons-star-gold.png';\n\nconst uuidv4 = require('uuid/v4');\n\nclass Product extends Component {\n  constructor() {\n    super();\n    this.state = {\n      selectedSize: '',\n      selectedColor: '',\n      addedToCart: false\n    };\n  }\n\n  async componentDidMount() {\n    window.scrollTo(0, 0);\n    let productID = this.props.match.params.id;\n    await this.props.getProduct(productID);\n    await this.props.getProductReviews(productID);\n    await this.props.getProductAttributes(productID);\n\n    if (this.props.attributes.length > 0) {\n      let attributes = this.props.attributes;\n      let initialColor;\n\n      for (let i = 0; i < attributes.length; i++) {\n        if (attributes[i].attribute_name == 'Color') {\n          initialColor = attributes[i].attribute_value;\n          break;\n        }\n      }\n\n      let initialSize;\n\n      for (let i = 0; i < attributes.length; i++) {\n        if (attributes[i].attribute_name == 'Size') {\n          initialSize = attributes[i].attribute_value;\n          break;\n        }\n      }\n\n      this.setState({\n        selectedSize: initialSize,\n        selectedColor: initialColor\n      });\n    }\n  }\n\n  selectSize(e) {\n    let value = e.target.value;\n    this.setState({\n      selectedSize: value\n    });\n  }\n\n  selectColor(e) {\n    let value = e.target.value;\n    this.setState({\n      selectedColor: value\n    });\n  }\n\n  addToCart(cart_id, product_id) {\n    let attributes = [];\n\n    if (this.state.selectedSize) {\n      attributes.push(this.state.selectedSize);\n    }\n\n    if (this.state.selectedColor) {\n      attributes.push(this.state.selectedColor);\n    }\n\n    attributes = attributes.join(\", \"); //NEEDS ATTRIBUTES\n\n    this.props.addToCart(cart_id, product_id, attributes);\n    this.setState({\n      addedToCart: true\n    });\n  }\n\n  toCart(parameter) {\n    this.props.history.push('/cart');\n  }\n\n  render() {\n    let product;\n\n    if (this.props.product) {\n      let image = \"https://backendapi.turing.com/images/products/\" + this.props.product.image;\n      let image2 = \"https://backendapi.turing.com/images/products/\" + this.props.product.image_2;\n      let product_id = this.props.product.product_id;\n      let cart_id = this.props.cart_id;\n      let attributes = this.props.attributes;\n      let colors = [];\n\n      for (let i = 0; i < attributes.length; i++) {\n        if (attributes[i].attribute_name == 'Color') {\n          colors.push(attributes[i]);\n        }\n      }\n\n      let colorOptions = colors.map(color => {\n        return React.createElement(\"option\", {\n          value: color.attribute_value,\n          key: color.attribute_value_id,\n          className: \"dropdown-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, color.attribute_value);\n      });\n      let sizes = [];\n\n      for (let i = 0; i < attributes.length; i++) {\n        if (attributes[i].attribute_name == 'Size') {\n          sizes.push(attributes[i]);\n        }\n      }\n\n      let sizeOptions = sizes.map(size => {\n        return React.createElement(\"option\", {\n          value: size.attribute_value,\n          key: size.attribute_value_id,\n          className: \"dropdown-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, size.attribute_value);\n      });\n      product = React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-md-6 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: image,\n        style: {\n          margin: '15px',\n          width: '60%'\n        },\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: image,\n        className: \"thumbnail-crop\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: image2,\n        className: \"thumbnail-crop\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-12 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          padding: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"light-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Home / \"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, this.props.product.name), React.createElement(\"h2\", {\n        className: \"pink\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"\\xA3\", this.props.product.price)), React.createElement(\"div\", {\n        style: {\n          padding: '15px',\n          width: '50%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"light-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Color\"), React.createElement(\"select\", {\n        value: this.state.selectedColor,\n        onChange: this.selectColor.bind(this),\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, colorOptions)), React.createElement(\"div\", {\n        style: {\n          padding: '15px',\n          width: '50%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"light-gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Size\"), React.createElement(\"select\", {\n        value: this.state.selectedSize,\n        onChange: this.selectSize.bind(this),\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, sizeOptions)), React.createElement(\"div\", {\n        style: {\n          paddingTop: '30px',\n          paddingLeft: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, !this.state.addedToCart && React.createElement(\"button\", {\n        onClick: () => this.addToCart(cart_id, product_id),\n        className: \"btn btn-lg btn-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Add to Cart\"), this.state.addedToCart && React.createElement(\"div\", {\n        style: {\n          height: '42px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Added to Cart! \", React.createElement(\"span\", {\n        onClick: this.toCart.bind(this),\n        className: \"link pink\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \" View Cart\"))))));\n    }\n\n    let reviews;\n\n    if (this.props.reviews.length > 0) {\n      reviews = this.props.reviews.slice(0, 10).map(review => {\n        let stars = [];\n\n        for (let i = 0; i < review.rating; i++) {\n          stars.push(React.createElement(\"img\", {\n            key: uuidv4(),\n            style: {\n              width: '12px'\n            },\n            src: starGold,\n            alt: \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 197\n            },\n            __self: this\n          }));\n        }\n\n        return React.createElement(\"div\", {\n          key: review.created_on,\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, stars, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, review.name), React.createElement(\"h4\", {\n          className: \"light-gray\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, review.created_on)), React.createElement(\"div\", {\n          className: \"col-8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          style: {\n            whiteSpace: 'pre-wrap'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, review.review)));\n      });\n    } else {\n      reviews = React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), \"No Reviews\"));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(HeaderNavigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"background-dark-gray\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        paddingTop: '30px',\n        paddingBottom: '30px'\n      },\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"background-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        padding: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, product)), React.createElement(\"div\", {\n      className: \"background-light-gray\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        padding: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"Product Reviews\"), reviews))))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    product: state.products.product,\n    reviews: state.products.reviews,\n    attributes: state.products.attributes,\n    cart_id: state.cart.cart_id\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    getProduct,\n    getProductReviews,\n    getProductAttributes,\n    addToCart\n  }, dispatch);\n};\n\nProduct = connect(mapStateToProps, mapDispatchToProps)(Product);\nexport default withRouter(Product);","map":{"version":3,"sources":["/Users/josephkoon/Desktop/turing/src/components/Product.js"],"names":["React","Component","bindActionCreators","connect","withRouter","Header","HeaderNavigation","Footer","getProduct","getProductReviews","getProductAttributes","addToCart","starGold","uuidv4","require","Product","constructor","state","selectedSize","selectedColor","addedToCart","componentDidMount","window","scrollTo","productID","props","match","params","id","attributes","length","initialColor","i","attribute_name","attribute_value","initialSize","setState","selectSize","e","value","target","selectColor","cart_id","product_id","push","join","toCart","parameter","history","render","product","image","image2","image_2","colors","colorOptions","map","color","attribute_value_id","sizes","sizeOptions","size","margin","width","padding","name","price","bind","paddingTop","paddingLeft","height","reviews","slice","review","stars","rating","created_on","whiteSpace","paddingBottom","mapStateToProps","products","cart","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux'; \nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport Header from './Header'\nimport HeaderNavigation from './HeaderNavigation'\nimport Footer from './Footer'\n\nimport { \n\tgetProduct,\n\tgetProductReviews,\n\tgetProductAttributes,\n\taddToCart,\n} from '../actions/index';\n\nimport starGold from '../icon/icons-star-gold.png'\n\nconst uuidv4 = require('uuid/v4');\n\n\n\nclass Product extends Component {\n\tconstructor(){\n\t\tsuper()\n\n\t\tthis.state = {\n\t\t\tselectedSize:'',\n\t\t\tselectedColor:'',\n\t\t\taddedToCart:false,\n\t\t}\n\t}\n\n\n\tasync componentDidMount(){\n\t\twindow.scrollTo(0, 0)\n\n\t\tlet productID = this.props.match.params.id\n\n\t\tawait this.props.getProduct(productID);\n\t\tawait this.props.getProductReviews(productID);\n\t\tawait this.props.getProductAttributes(productID);\n\n\n\t\tif(this.props.attributes.length > 0){\n\t\t\tlet attributes = this.props.attributes;\n\t\t\tlet initialColor\n\t\t\tfor(let i=0; i<attributes.length; i++){\n\t\t\t\tif(attributes[i].attribute_name == 'Color'){\n\t\t\t\t\tinitialColor = attributes[i].attribute_value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet initialSize\n\t\t\tfor(let i=0; i<attributes.length; i++){\n\t\t\t\tif(attributes[i].attribute_name == 'Size'){\n\t\t\t\t\tinitialSize = attributes[i].attribute_value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setState({selectedSize:initialSize, selectedColor:initialColor})\n\t\t}\n\t}\n\n\n\n\tselectSize(e){\n\t\tlet value = e.target.value\n\t\tthis.setState({selectedSize:value});\n\t}\n\n\n\tselectColor(e){\n\t\tlet value = e.target.value\n\t\tthis.setState({selectedColor:value});\n\t}\n\n\n\taddToCart(cart_id, product_id){\n\t\tlet attributes = []\n\n\t\tif(this.state.selectedSize){\n\t\t\tattributes.push(this.state.selectedSize)\n\t\t}\n\t\tif(this.state.selectedColor){\n\t\t\tattributes.push(this.state.selectedColor)\n\t\t}\n\n\t\tattributes = attributes.join(\", \")\n\n\t\t//NEEDS ATTRIBUTES\n\t\tthis.props.addToCart(cart_id, product_id, attributes)\n\t\tthis.setState({addedToCart:true})\n\t}\n\n\n\ttoCart(parameter){\n\t\tthis.props.history.push('/cart');\n\t}\n\n\n\n\trender(){\n\t\tlet product\n\n\n\t\tif(this.props.product){\n\t\t\tlet image= \"https://backendapi.turing.com/images/products/\" + this.props.product.image\n\t\t\tlet image2= \"https://backendapi.turing.com/images/products/\" + this.props.product.image_2\n\t\t\tlet product_id = this.props.product.product_id\n\t\t\tlet cart_id = this.props.cart_id\n\t\t\tlet attributes = this.props.attributes;\n\n\n\t\t\tlet colors = []\n\t\t\tfor(let i=0; i<attributes.length; i++){\n\t\t\t\tif(attributes[i].attribute_name == 'Color'){\n\t\t\t\t\tcolors.push(attributes[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet colorOptions = colors.map(color => {\n\t\t\t\treturn (\n\t\t\t\t\t<option value={color.attribute_value} key={color.attribute_value_id} className=\"dropdown-item\">{color.attribute_value}</option>\n\t\t\t\t)\n\t\t\t})\n\n\n\t\t\tlet sizes = []\n\t\t\tfor(let i=0; i<attributes.length; i++){\n\t\t\t\tif(attributes[i].attribute_name == 'Size'){\n\t\t\t\t\tsizes.push(attributes[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet sizeOptions = sizes.map(size => {\n\t\t\t\treturn (\n\t\t\t\t\t<option value={size.attribute_value} key={size.attribute_value_id} className=\"dropdown-item\">{size.attribute_value}</option>\n\t\t\t\t)\n\t\t\t})\n\n\n\t\t\tproduct = (\n\t     \t\t<div className='row'>\n\t     \t\t\t<div className='col-12 col-md-6 text-center'>\n\t     \t\t\t\t<div>\n\t     \t\t\t\t\t<img src={image} style={{margin:'15px', width:'60%'}} alt=\"\"/>\n\t     \t\t\t\t</div>\n\t     \t\t\t\t<div>\n\t     \t\t\t\t\t<img src={image} className='thumbnail-crop' alt=\"\"/>\n\t     \t\t\t\t\t<img src={image2} className='thumbnail-crop' alt=\"\"/>\n\t     \t\t\t\t</div>\n\t     \t\t\t</div>\n\n\t     \t\t\t<div className='col-12 col-md-6'>\n\t     \t\t\t\t<div style={{padding:'15px'}}>\n\t     \t\t\t\t\t<h4 className='light-gray'>Home / </h4>\n\t     \t\t\t\t\t<h2>{this.props.product.name}</h2>\n\t     \t\t\t\t\t<h2 className='pink'>£{this.props.product.price}</h2>\n\t     \t\t\t\t</div>\n\n\t\t\t\t\t    <div style={{padding:'15px', width:'50%'}}>\n\t\t\t\t\t\t    <h3 className='light-gray'>Color</h3>\n\t\t\t\t\t\t\t<select value={this.state.selectedColor} onChange={this.selectColor.bind(this)} className=\"form-control\">\n\t\t\t\t\t\t\t\t{colorOptions}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t    \t<div style={{padding:'15px', width:'50%'}}>\n\t\t\t\t\t\t    <h3 className='light-gray'>Size</h3>\n\t\t\t\t\t\t\t<select value={this.state.selectedSize} onChange={this.selectSize.bind(this)} className=\"form-control\">\n\t\t\t\t\t\t\t\t{sizeOptions}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t     \t\t\t\t<div style={{paddingTop:'30px', paddingLeft:'15px'}}>\n\t     \t\t\t\t\t{!this.state.addedToCart &&\n\t     \t\t\t\t\t\t<button onClick={() => this.addToCart(cart_id, product_id)} className=\"btn btn-lg btn-danger\">Add to Cart</button>\n\t     \t\t\t\t\t}\n\t     \t\t\t\t\t{this.state.addedToCart &&\n\t     \t\t\t\t\t\t<div style={{height:'42px'}}>\n\t     \t\t\t\t\t\t\t<h3>Added to Cart! <span onClick={this.toCart.bind(this)} className='link pink'> View Cart</span></h3>\n\t     \t\t\t\t\t\t</div>\n\t     \t\t\t\t\t}\n\t     \t\t\t\t</div>\n\t     \t\t\t</div>\n\t\t     \t</div>\n\t\t\t)\n\t\t}\n\n\n\t\tlet reviews\n\t\tif(this.props.reviews.length>0){\n\t\t\treviews = this.props.reviews.slice(0,10).map(review => {\n\t\t\t\tlet stars = []\n\t\t\t\tfor(let i=0; i<review.rating; i++){\n\t\t\t\t\tstars.push(<img key={uuidv4()} style={{width:'12px'}} src={starGold} alt=\"\"/>)\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t     \t\t<div key={review.created_on} className='row'>\n\t\t     \t\t\t<div className='col-12'>\n\t\t     \t\t\t\t<hr/>\n\t\t     \t\t\t</div>\n\t\t     \t\t\t<div className='col-4'>\n\t\t     \t\t\t\t{stars}\n\n\t\t     \t\t\t\t<h4>{review.name}</h4>\n\t\t     \t\t\t\t<h4 className='light-gray'>{review.created_on}</h4>\n\t\t     \t\t\t</div>\n\t\t     \t\t\t<div className='col-8'>\n\t\t     \t\t\t\t<p style={{whiteSpace:'pre-wrap'}}>{review.review}</p>\n\t\t     \t\t\t</div>\n\t\t\t     \t</div>\n\t\t\t\t)\n\t\t\t})\n\t\t} else {\n\t\t\treviews = (\n\t     \t\t<div className='row'>\n\t     \t\t\t<div className='col-12'>\n\t     \t\t\t\t<hr/>\n\t     \t\t\t\tNo Reviews\n\t     \t\t\t</div>\n\t\t     \t</div>\n\t\t\t)\n\t\t}\n\n\n\n\t\treturn(\n\t\t    <div>\n\t\t    \t<Header/>\n\t\t    \t<HeaderNavigation/>\n\n\t\t     \t<div className='background-dark-gray'>\n\t\t     \t<div style={{paddingTop:'30px', paddingBottom:'30px'}} className='container'>\n\t\t     \t\t<div className='box-shadow'>\n\t\t     \t\t<div className='background-white'>\n\t\t     \t\t<div style={{padding:'30px'}}>\n\t\t     \t\t\t{product}\n\t\t     \t\t</div>\n\t\t     \t\t</div>\n\n\t\t     \t\t<div className='background-light-gray'>\n\t\t     \t\t<div style={{padding:'30px'}}>\n\t\t     \t\t\t<h3>Product Reviews</h3>\n\t\t     \t\t\t{reviews}\n\t\t     \t\t</div>\n\t\t     \t\t</div>\n\t\t     \t\t</div>\n\t\t     \t</div>\n\t\t     \t</div>\n\t\t     \t\n\t\t     \t<Footer />\n\t\t    </div>\n\t\t)\n\t}\n}\n\n\nfunction mapStateToProps(state){\n\treturn { \n\t\tproduct:state.products.product,\n\t\treviews:state.products.reviews,\n\t\tattributes:state.products.attributes,\n\t\tcart_id:state.cart.cart_id,\n\t};\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn bindActionCreators({\n\t\tgetProduct,\n\t\tgetProductReviews,\n\t\tgetProductAttributes,\n\t\taddToCart,\n\t}, dispatch);\n};\n\nProduct = connect(mapStateToProps, mapDispatchToProps)(Product);\nexport default withRouter(Product);\n\n\n"]},"metadata":{},"sourceType":"module"}