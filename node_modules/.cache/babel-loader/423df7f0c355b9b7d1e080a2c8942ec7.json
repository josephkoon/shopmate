{"ast":null,"code":"import { GET_PRODUCTS, GET_PRODUCT, GET_PRODUCT_REVIEWS, GET_PRODUCT_ATTRIBUTES, SEARCH_PRODUCTS, GET_CATEGORIES, GET_DEPARTMENTS } from './types';\nimport axios from 'axios';\n\nconst Querystring = require('query-string');\n\nconst ROOT_URL = 'https://backendapi.turing.com';\nexport function login(email, password) {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      //page - defauls to 1\n      //limit - defaults to 20\n      //description_length - defaults to 200\n      var data = Querystring.stringify({\n        'email': email,\n        'password': password\n      });\n      console.log(data);\n      const user = await axios.post(ROOT_URL + '/customer/login', data, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      });\n      console.log('user', user); // let count = products.data.count\n      // let rows = products.data.rows\n      // return dispatch(get_Products(rows));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function getProducts() {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      //page - defauls to 1\n      //limit - defaults to 20\n      //description_length - defaults to 200\n      const products = await axios.get(ROOT_URL + '/products');\n      let count = products.data.count;\n      let rows = products.data.rows;\n      return dispatch(get_Products(rows));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function getProductsInDepartment(id) {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      //page - defauls to 1\n      //limit - defaults to 20\n      //description_length - defaults to 200\n      const products = await axios.get(ROOT_URL + '/products/inDepartment/' + id);\n      let count = products.data.count;\n      let rows = products.data.rows;\n      return dispatch(get_Products(rows));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function getProductsInCategory(id) {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      //page - defauls to 1\n      //limit - defaults to 20\n      //description_length - defaults to 200\n      const products = await axios.get(ROOT_URL + '/products/inCategory/' + id);\n      let count = products.data.count;\n      let rows = products.data.rows;\n      return dispatch(get_Products(rows));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function get_Products(products) {\n  return {\n    type: GET_PRODUCTS,\n    payload: products\n  };\n}\nexport function getProduct(id) {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      const product = await axios.get(ROOT_URL + '/products/' + id);\n      return dispatch(get_Product(product.data));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function get_Product(product) {\n  return {\n    type: GET_PRODUCT,\n    payload: product\n  };\n}\nexport function getProductReviews(id) {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      const product = await axios.get(ROOT_URL + '/products/' + id + '/reviews');\n      return dispatch(get_ProductReviews(product.data));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function get_ProductReviews(reviews) {\n  return {\n    type: GET_PRODUCT_REVIEWS,\n    payload: reviews\n  };\n}\nexport function getProductAttributes(id) {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      const attributes = await axios.get(ROOT_URL + '/attributes/inProduct/' + id);\n      return dispatch(get_ProductAttributes(attributes.data));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function get_ProductAttributes(attributes) {\n  return {\n    type: GET_PRODUCT_ATTRIBUTES,\n    payload: attributes\n  };\n}\nexport function searchProducts(query) {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      //query_string - to search\n      //all_words - all words on/off\n      //page - defauls to 1\n      //limit - defaults to 20\n      //description_length - defaults to 200\n      const products = await axios.get(ROOT_URL + '/products/search' + \"?query_string=\" + query);\n      return dispatch(search_Products(products.data));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function search_Products(products) {\n  return {\n    type: SEARCH_PRODUCTS,\n    payload: products\n  };\n}\nexport function getCategories() {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      //order - category_id or name\n      //page - defauls to 1\n      //limit - defaults to 20\n      const categories = await axios.get(ROOT_URL + '/categories');\n      let count = categories.data.count;\n      let rows = categories.data.rows;\n      return dispatch(get_Categories(rows));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function getCategoriesInDepartment(id) {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      const categories = await axios.get(ROOT_URL + '/categories/inDepartment/' + id);\n      return dispatch(get_Categories(categories.data));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function get_Categories(categories) {\n  return {\n    type: GET_CATEGORIES,\n    payload: categories\n  };\n}\nexport function getDepartments() {\n  //dispatch any actions with redux thunk\n  return async function (dispatch) {\n    try {\n      const departments = await axios.get(ROOT_URL + '/departments');\n      return dispatch(get_Departments(departments.data));\n    } catch (error) {\n      //If server returns error, show response\n      if (error.response) {\n        if (error.response.data) {\n          console.log('ERROR');\n        } //For other types of error, just display error\n\n      } else if (error) {\n        console.log('ERROR');\n      }\n    }\n  };\n}\nexport function get_Departments(departments) {\n  console.log('departments', departments);\n  return {\n    type: GET_DEPARTMENTS,\n    payload: departments\n  };\n}","map":{"version":3,"sources":["/Users/josephkoon/Desktop/turing/src/actions/index.js"],"names":["GET_PRODUCTS","GET_PRODUCT","GET_PRODUCT_REVIEWS","GET_PRODUCT_ATTRIBUTES","SEARCH_PRODUCTS","GET_CATEGORIES","GET_DEPARTMENTS","axios","Querystring","require","ROOT_URL","login","email","password","dispatch","data","stringify","console","log","user","post","headers","error","response","getProducts","products","get","count","rows","get_Products","getProductsInDepartment","id","getProductsInCategory","type","payload","getProduct","product","get_Product","getProductReviews","get_ProductReviews","reviews","getProductAttributes","attributes","get_ProductAttributes","searchProducts","query","search_Products","getCategories","categories","get_Categories","getCategoriesInDepartment","getDepartments","departments","get_Departments"],"mappings":"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","sourcesContent":["import {\n\tGET_PRODUCTS,\n\tGET_PRODUCT,\n\tGET_PRODUCT_REVIEWS,\n\tGET_PRODUCT_ATTRIBUTES,\n\t\n\tSEARCH_PRODUCTS,\n\n\tGET_CATEGORIES,\n\n\tGET_DEPARTMENTS,\n} from './types'\n\nimport axios from 'axios';\n\nconst Querystring = require('query-string');\n\nconst ROOT_URL = 'https://backendapi.turing.com'\n\n\n\n\n\n\nexport function login(email, password){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\t//page - defauls to 1\n\t\t\t//limit - defaults to 20\n\t\t\t//description_length - defaults to 200\n\n\n\t\t\tvar data = Querystring.stringify({ \n\t\t\t\t'email':email,\n\t\t\t\t'password':password,\n\t\t\t});\n\n\t\t\tconsole.log(data)\n\n\n\t\t\tconst user = await axios.post(ROOT_URL+'/customer/login', data, {headers:{'Content-Type':'application/x-www-form-urlencoded'}});\n\n\t\t\tconsole.log('user', user)\n\n\t\t\t// let count = products.data.count\n\t\t\t// let rows = products.data.rows\n\n\t\t\t// return dispatch(get_Products(rows));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\n\n\n\n\n\nexport function getProducts(){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\t//page - defauls to 1\n\t\t\t//limit - defaults to 20\n\t\t\t//description_length - defaults to 200\n\n\t\t\tconst products = await axios.get(ROOT_URL+'/products');\n\n\t\t\tlet count = products.data.count\n\t\t\tlet rows = products.data.rows\n\n\t\t\treturn dispatch(get_Products(rows));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\n\n\n\nexport function getProductsInDepartment(id){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\t//page - defauls to 1\n\t\t\t//limit - defaults to 20\n\t\t\t//description_length - defaults to 200\n\n\t\t\tconst products = await axios.get(ROOT_URL+'/products/inDepartment/'+id);\n\n\t\t\tlet count = products.data.count\n\t\t\tlet rows = products.data.rows\n\n\t\t\treturn dispatch(get_Products(rows));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\n\n\nexport function getProductsInCategory(id){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\t//page - defauls to 1\n\t\t\t//limit - defaults to 20\n\t\t\t//description_length - defaults to 200\n\n\t\t\tconst products = await axios.get(ROOT_URL+'/products/inCategory/'+id);\n\n\t\t\tlet count = products.data.count\n\t\t\tlet rows = products.data.rows\n\n\t\t\treturn dispatch(get_Products(rows));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\n\n\n\n\nexport function get_Products(products){\n\treturn {\n\t\ttype:GET_PRODUCTS,\n\t\tpayload:products\n\t};\n}\n\n\n\n\n\n\n\n\nexport function getProduct(id){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\tconst product = await axios.get(ROOT_URL+'/products/'+id);\n\n\t\t\treturn dispatch(get_Product(product.data));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport function get_Product(product){\n\treturn {\n\t\ttype:GET_PRODUCT,\n\t\tpayload:product\n\t};\n}\n\n\n\n\nexport function getProductReviews(id){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\tconst product = await axios.get(ROOT_URL+'/products/'+id+'/reviews');\n\n\t\t\treturn dispatch(get_ProductReviews(product.data));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport function get_ProductReviews(reviews){\n\treturn {\n\t\ttype:GET_PRODUCT_REVIEWS,\n\t\tpayload:reviews\n\t};\n}\n\n\n\n\n\nexport function getProductAttributes(id){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\tconst attributes = await axios.get(ROOT_URL+'/attributes/inProduct/'+id);\n\n\t\t\treturn dispatch(get_ProductAttributes(attributes.data));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport function get_ProductAttributes(attributes){\n\treturn {\n\t\ttype:GET_PRODUCT_ATTRIBUTES,\n\t\tpayload:attributes\n\t};\n}\n\n\n\n\n\n\n\nexport function searchProducts(query){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\t//query_string - to search\n\t\t\t//all_words - all words on/off\n\t\t\t//page - defauls to 1\n\t\t\t//limit - defaults to 20\n\t\t\t//description_length - defaults to 200\n\n\t\t\tconst products = await axios.get(ROOT_URL+'/products/search' + \"?query_string=\" + query);\n\n\t\t\treturn dispatch(search_Products(products.data));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport function search_Products(products){\n\treturn {\n\t\ttype:SEARCH_PRODUCTS,\n\t\tpayload:products\n\t};\n}\n\n\n\n\n\n\n\n\nexport function getCategories(){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\t//order - category_id or name\n\t\t\t//page - defauls to 1\n\t\t\t//limit - defaults to 20\n\n\t\t\tconst categories = await axios.get(ROOT_URL+'/categories');\n\n\t\t\tlet count = categories.data.count\n\t\t\tlet rows = categories.data.rows\n\n\t\t\treturn dispatch(get_Categories(rows));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\n\nexport function getCategoriesInDepartment(id){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\tconst categories = await axios.get(ROOT_URL+'/categories/inDepartment/'+id);\n\n\t\t\treturn dispatch(get_Categories(categories.data));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\n\nexport function get_Categories(categories){\n\treturn {\n\t\ttype:GET_CATEGORIES,\n\t\tpayload:categories\n\t};\n}\n\n\n\n\n\n\n\n\n\n\nexport function getDepartments(){\n\t//dispatch any actions with redux thunk\n\treturn async function(dispatch){\n\t\ttry {\n\n\t\t\tconst departments = await axios.get(ROOT_URL+'/departments');\n\n\t\t\treturn dispatch(get_Departments(departments.data));\n\n\t\t} catch(error){\n\t\t\t//If server returns error, show response\n\t\t\tif(error.response){\n\t\t\t\tif(error.response.data){\n\t\t\t\t\tconsole.log('ERROR')\n\t\t\t\t}\n\t\t\t//For other types of error, just display error\n\t\t\t} else if(error){\n\t\t\t\tconsole.log('ERROR')\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport function get_Departments(departments){\n\tconsole.log('departments', departments)\n\treturn {\n\t\ttype:GET_DEPARTMENTS,\n\t\tpayload:departments\n\t};\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}